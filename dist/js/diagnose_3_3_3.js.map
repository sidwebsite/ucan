{"version":3,"file":"js/diagnose_3_3_3.js","mappings":";;AAAA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,8DAA8D;;AAE9D;AACA;AACA;AACA;AACA,KAAK;AACL,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,0BAA0B;AAC1C;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;AACL,CAAC,E","sources":["webpack://ucan/./src/js/diagnose_3_3_3.js"],"sourcesContent":["// Modal\nlet testAlertModal = new bootstrap.Modal(document.getElementById('testAlert'), {\n    keyboard: false,\n    backdrop: 'static'\n});\nwindow.addEventListener('load', () => testAlertModal.show());\n// collapse\nconst collapseBtn = document.querySelectorAll('.collapse-btn');\nconst collapse = document.querySelectorAll('.test-collapse'); // 2024/4/25修改\n\ncollapseBtn.forEach((btn, index) => {\n    btn.addEventListener('click', () => {\n        new bootstrap.Collapse(collapse[index]).toggle();\n        btn.classList.toggle('rotate-180');\n    })\n});\n// scrollTo function\nfunction scrollToTargetAdjusted(elments) {\n    const headerOffset = 100;\n    let elementPosition = elments.getBoundingClientRect().top;\n    let offsetPosition = window.pageYOffset === 0 ? elementPosition + window.pageYOffset - (headerOffset + 80) : elementPosition + window.pageYOffset - headerOffset;\n    window.scrollTo({\n        top: offsetPosition,\n        behavior: \"smooth\"\n    });   \n}\n// diagnosis test function\nconst diagnosisTest = document.querySelectorAll('.diagnosis-test');\nconst testAlert = document.querySelectorAll('.alert');\nconst testBtn = document.querySelector('#test-btn');\n\nconst switchFun = (bool, radios) => {\n    bool === 'true' ? radios.forEach(r => r.disabled = false) : radios.forEach(r => r.disabled = true);\n}\nconst testArr = [...diagnosisTest];\nfor (let i = 0; i < diagnosisTest.length; i++) {\n    const element = diagnosisTest[i];\n    const radios = element.querySelectorAll('.radio > input[type=\"radio\"]');\n    if(i === 0) {\n        radios.forEach(r => r.disabled = false)\n        element.classList.add('diagnosis-test-active');\n    } else {\n        radios.forEach(r => r.disabled = true)\n    };\n    // change\n    radios.forEach(radio => {\n        if(radio.checked === true) {\n            element.dataset.switch = 'true';\n            element.classList.add('opacity-25');\n            switchFun(element.dataset.switch, radios);\n        } else {\n            radio.addEventListener('click', () => {\n                const testEnd = diagnosisTest.length - 1;\n                // block alert\n                !testAlert[i].classList.contains('visually-hidden') ? testAlert[i].classList.add('visually-hidden') : false;\n                // 開啟一下題效果\n                if(element.dataset.switch === 'false') {\n                    element.dataset.switch = 'true';\n                    element.classList.add('opacity-25');\n                    element.classList.remove('diagnosis-test-active');\n                    scrollToTargetAdjusted(element);\n                    if(i !== testEnd) {\n                        const nextElement = diagnosisTest[i + 1];\n                        const nextElementRadios = nextElement.querySelectorAll('.radio > input[type=\"radio\"]');\n                        nextElement.classList.add('diagnosis-test-active');\n                        nextElementRadios.forEach(r => r.disabled = false);     \n                    }\n                }\n            });\n        }\n    });\n}\n// button function\ntestBtn.addEventListener('click', () => {\n    let testNmuber = [];\n    testArr.forEach((test, index) => {\n        if(test.dataset.switch === 'false') {\n            testAlert[index].classList.remove('visually-hidden');\n            testNmuber.push(index);\n            scrollToTargetAdjusted(testArr[testNmuber[0]]);\n        } else {\n            testAlert[index].classList.add('visually-hidden');\n        }\n    });\n});"],"names":[],"sourceRoot":""}